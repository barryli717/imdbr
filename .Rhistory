library(htt)
library(httr)
id = "tt0944947"
# query name_id with id, limit 10 results
query1 = list("tconst"= id)
endpoint1 = "https://imdb8.p.rapidapi.com/title/get-top-cast"
response1 = httr::GET(url = endpoint1,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query1)
id = "tt0944947"
# query name_id with id, limit 10 results
query1 = list("tconst"= id)
endpoint1 = "https://imdb8.p.rapidapi.com/title/get-top-cast"
response1 = httr::GET(url = endpoint1,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query1)
text1 = suppressMessages(httr::content(response1, as = "text"))
content1 = jsonlite::fromJSON(text1)
if(length(content1)>=10){
querynum = 10
}else{
querynum = length(content1)
}
name_id = c()
for (i in 1:querynum) {
name_id[i] = stringr::str_sub(content[i], start = 7L, end = -2L)
}
querynum
# query name_id with id, limit 10 results
query1 = list("tconst"= id)
id = "tt0944947"
# query name_id with id, limit 10 results
query1 = list("tconst"= id)
endpoint1 = "https://imdb8.p.rapidapi.com/title/get-top-cast"
response1 = httr::GET(url = endpoint1,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query1)
text1 = suppressMessages(httr::content(response1, as = "text"))
content1 = jsonlite::fromJSON(text1)
if(length(content1)>=10){
querynum = 10
}else{
querynum = length(content1)
}
name_id = c()
for (i in 1:querynum) {
name_id[i] = stringr::str_sub(content1[i], start = 7L, end = -2L)
}
characters <- function(name=FALSE, id=FALSE){
# get the id of the title
if (id == FALSE) {
if (name == FALSE) {
stop("No input for overview, please provide name/id of the title.")
}
else{
id = imdbr::get_id(name)
if (stringr::str_sub(id, start = 1L, end = 2L) != "tt") {
stop("Please input a valid name.")
}
}
}
# query name_id with id, limit 10 results
query1 = list("tconst"= id)
endpoint1 = "https://imdb8.p.rapidapi.com/title/get-top-cast"
response1 = httr::GET(url = endpoint1,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query1)
text1 = suppressMessages(httr::content(response1, as = "text"))
content1 = jsonlite::fromJSON(text1)
if(length(content1)>=10){
querynum = 10
}else{
querynum = length(content1)
}
name_id = c()
for (i in 1:querynum) {
name_id[i] = stringr::str_sub(content1[i], start = 7L, end = -2L)
}
# query characters with name_id and id
data = dplyr::tibble(CharecterName=character(), RoleName=character())
for (i in 1:querynum) {
query2 = list("id"=name_id[i],"tconst"=id)
endpoint2 = "https://imdb8.p.rapidapi.com/title/get-charname-list"
response2 = httr::GET(url = endpoint2,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query2)
content2 = suppressMessages(jsonlite::fromJSON(httr::content(response2, as = "text")))
data[i,1] = content2[[1]]$name$name
data[i,2] = content2[[1]]$charname$characters[[1]]
}
return(data)
}
characters("game of thrones")
query1
query2
data
id = "tt0944947"
# query name_id with id, limit 10 results
query1 = list("tconst"= id)
endpoint1 = "https://imdb8.p.rapidapi.com/title/get-top-cast"
response1 = httr::GET(url = endpoint1,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query1)
text1 = suppressMessages(httr::content(response1, as = "text"))
content1 = jsonlite::fromJSON(text1)
if(length(content1)>=10){
querynum = 10
}else{
querynum = length(content1)
}
name_id = c()
for (i in 1:querynum) {
name_id[i] = stringr::str_sub(content1[i], start = 7L, end = -2L)
}
name_id
data = dplyr::tibble(CharecterName=character(), RoleName=character())
query2 = list("id"=name_id[1],"tconst"=id)
endpoint2 = "https://imdb8.p.rapidapi.com/title/get-charname-list"
response2 = httr::GET(url = endpoint2,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query2)
content2 = suppressMessages(jsonlite::fromJSON(httr::content(response2, as = "text")))
data[i,1] = content2[[1]]$name$name
data[i,2] = content2[[1]]$charname$characters[[1]]
data
for (i in 1:querynum) {
query2 = list("id"=name_id[1],"tconst"=id)
endpoint2 = "https://imdb8.p.rapidapi.com/title/get-charname-list"
response2 = httr::GET(url = endpoint2,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query2)
content2 = suppressMessages(jsonlite::fromJSON(httr::content(response2, as = "text")))
data[i,1] = content2[[1]]$name$name
data[i,2] = content2[[1]]$charname$characters[[1]]
}
data
for (i in 1:querynum) {
query2 = list("id"=name_id[i],"tconst"=id)
endpoint2 = "https://imdb8.p.rapidapi.com/title/get-charname-list"
response2 = httr::GET(url = endpoint2,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query2)
content2 = suppressMessages(jsonlite::fromJSON(httr::content(response2, as = "text")))
data[i,1] = content2[[1]]$name$name
data[i,2] = content2[[1]]$charname$characters[[1]]
}
data
characters <- function(name=FALSE, id=FALSE){
# get the id of the title
if (id == FALSE) {
if (name == FALSE) {
stop("No input for overview, please provide name/id of the title.")
}
else{
id = imdbr::get_id(name)
if (stringr::str_sub(id, start = 1L, end = 2L) != "tt") {
stop("Please input a valid name.")
}
}
}
# query name_id with id, limit 10 results
query1 = list("tconst"= id)
endpoint1 = "https://imdb8.p.rapidapi.com/title/get-top-cast"
response1 = httr::GET(url = endpoint1,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query1)
text1 = suppressMessages(httr::content(response1, as = "text"))
content1 = jsonlite::fromJSON(text1)
if(length(content1)>=10){
querynum = 10
}else{
querynum = length(content1)
}
name_id = c()
for (i in 1:querynum) {
name_id[i] = stringr::str_sub(content1[i], start = 7L, end = -2L)
}
# query characters with name_id and id
data = dplyr::tibble(CharecterName=character(), RoleName=character())
for (i in 1:querynum) {
query2 = list("id"=name_id[i],"tconst"=id)
endpoint2 = "https://imdb8.p.rapidapi.com/title/get-charname-list"
response2 = httr::GET(url = endpoint2,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query2)
content2 = suppressMessages(jsonlite::fromJSON(httr::content(response2, as = "text")))
data[i,1] = content2[[1]]$name$name
data[i,2] = content2[[1]]$charname$characters[[1]]
}
return(data)
}
characters("game of thrones")
characters("sherlock")
characters("game of thrones")
characters <- function(name=FALSE, id=FALSE){
# get the id of the title
if (id == FALSE) {
if (name == FALSE) {
stop("No input for overview, please provide name/id of the title.")
}
else{
id = imdbr::get_id(name)
if (stringr::str_sub(id, start = 1L, end = 2L) != "tt") {
stop("Please input a valid name.")
}
}
}
# query name_id with id, limit 10 results
query1 = list("tconst"= id)
endpoint1 = "https://imdb8.p.rapidapi.com/title/get-top-cast"
response1 = httr::GET(url = endpoint1,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query1)
text1 = suppressMessages(httr::content(response1, as = "text"))
content1 = jsonlite::fromJSON(text1)
if(length(content1)>=10){
querynum = 10
}else{
querynum = length(content1)
}
name_id = c()
for (i in 1:querynum) {
name_id[i] = stringr::str_sub(content1[i], start = 7L, end = -2L)
}
# query characters with name_id and id
data = dplyr::tibble(CharecterName=character(), RoleName=character())
for (i in 1:querynum) {
query2 = list("id"=name_id[i],"tconst"=id)
endpoint2 = "https://imdb8.p.rapidapi.com/title/get-charname-list"
response2 = httr::GET(url = endpoint2,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query2)
content2 = suppressMessages(jsonlite::fromJSON(httr::content(response2, as = "text")))
data[i,1] = content2[[1]]$name$name
data[i,2] = content2[[1]]$charname$characters[[1]][1]
}
return(data)
}
characters("sherlock")
characters("2012")
document()
library(devtools)
library(roxygen2)
library(testthat)
document()
check()
library(imdbr)
characters("sherlock")
top_crew("sherlock")
characters("sherlock")
library(imdbr)
characters("game of thrones")
overview("sherlock")
overview("inception")
characters("inception")
characters("interstellar")
id = "tt0944947"
query = list("tconst"= id)
endpoint = "https://imdb8.p.rapidapi.com/title/get-more-like-this"
response = httr::GET(url = endpoint,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query)
text = suppressMessages(httr::content(response, as = "text"))
content = jsonlite::fromJSON(text)
content
id = "tt0944947"
query1= list("tconst"= id)
endpoint1 = "https://imdb8.p.rapidapi.com/title/get-more-like-this"
response1 = httr::GET(url = endpoint1,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query1)
text1 = suppressMessages(httr::content(response1, as = "text"))
content1 = jsonlite::fromJSON(text1)
if(length(content1)>=10){
querynum = 10
}else{
querynum = length(content1)
}
ids = c()
for (i in 1:querynum) {
ids[i] = stringr::str_sub(content1[i], start = 7L, end = -2L)
}
ids
id = "tt0944947"
query1= list("tconst"= id)
endpoint1 = "https://imdb8.p.rapidapi.com/title/get-more-like-this"
response1 = httr::GET(url = endpoint1,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query1)
text1 = suppressMessages(httr::content(response1, as = "text"))
content1 = jsonlite::fromJSON(text1)
if(length(content1)>=10){
querynum = 10
}else{
querynum = length(content1)
}
ids = c()
for (i in 1:querynum) {
ids[i] = stringr::str_sub(content1[i], start = 8L, end = -2L)
}
ids
overview("sherlock")
a=overview("sherlock")
a[1]
a[1,1]
a[1,2]
id = "tt0944947"
query1= list("tconst"= id)
endpoint1 = "https://imdb8.p.rapidapi.com/title/get-more-like-this"
response1 = httr::GET(url = endpoint1,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query1)
text1 = suppressMessages(httr::content(response1, as = "text"))
content1 = jsonlite::fromJSON(text1)
if(length(content1)>=5){
querynum = 5
}else{
querynum = length(content1)
}
ids = c()
for (i in 1:querynum) {
ids[i] = stringr::str_sub(content1[i], start = 8L, end = -2L)
}
# query titles' info with ids
data = dplyr::tibble(TitleName=character(), TitleId=character())
for (i in 1:querynum) {
info = imdbr::overview(id = ids[i])[1,1:2]
data = rbind(data,info)
}
data
data = dplyr::tibble(TitleName=character(), TitleId=character())
data
overview("game of thrones")
library(imdbr)
overview("sherlock")
library(imdbr)
overview("sherlock")
library(imdbr)
overview("sherlock")
overview("sherlock")
library(imdbr)
overview("sherlock")
more <- function(name=FALSE, id=FALSE){
if (id == FALSE) {
if (name == FALSE) {
stop("No input for overview, please provide name/id of the title.")
}
else{
id = imdbr::get_id(name)
if (stringr::str_sub(id, start = 1L, end = 2L) != "tt") {
stop("Please input a valid name.")
}
}
}
# get similar titles' id
id = "tt0944947"
query1= list("tconst"= id)
endpoint1 = "https://imdb8.p.rapidapi.com/title/get-more-like-this"
response1 = httr::GET(url = endpoint1,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query1)
text1 = suppressMessages(httr::content(response1, as = "text"))
content1 = jsonlite::fromJSON(text1)
if(length(content1)>=5){
querynum = 5
}else{
querynum = length(content1)
}
ids = c()
for (i in 1:querynum) {
ids[i] = stringr::str_sub(content1[i], start = 8L, end = -2L)
}
# query titles' info with ids
data = dplyr::tibble(TitleName=character(),
TitleId=character(),
Type=character(),
Rating=numeric())
for (i in 1:querynum) {
info = imdbr::overview(id = ids[i])
data[i,1] = info[1,2]
data[i,2] = ids[i]
data[i,3] = info[5,2]
data[i,4] = info[6,2]
}
return(data)
}
more("sherlock")
library(imdbr)
overview("sherlock")
more("sherlock")
characters("sherlock")
library(imdbr)
more("sherlock")
overview("sherlock")
more <- function(name=FALSE, id=FALSE){
if (id == FALSE) {
if (name == FALSE) {
stop("No input for overview, please provide name/id of the title.")
}
else{
id = imdbr::get_id(name)
if (stringr::str_sub(id, start = 1L, end = 2L) != "tt") {
stop("Please input a valid name.")
}
}
}
# get similar titles' id
query1= list("tconst"= id)
endpoint1 = "https://imdb8.p.rapidapi.com/title/get-more-like-this"
response1 = httr::GET(url = endpoint1,
add_headers('x-rapidapi-host' = Sys.getenv("RAPID_API_HOST"),
'x-rapidapi-key' = Sys.getenv("RAPID_API_KEY")),
query = query1)
text1 = suppressMessages(httr::content(response1, as = "text"))
content1 = jsonlite::fromJSON(text1)
if(length(content1)>=5){
querynum = 5
}else{
querynum = length(content1)
}
ids = c()
for (i in 1:querynum) {
ids[i] = stringr::str_sub(content1[i], start = 8L, end = -2L)
}
# query titles' info with ids
data = dplyr::tibble(TitleName=character(),
TitleId=character(),
Type=character(),
Rating=numeric())
for (i in 1:querynum) {
info = imdbr::overview(id = ids[i])
data[i,1] = info[1,2]
data[i,2] = ids[i]
data[i,3] = info[2,2]
data[i,4] = info[3,2]
}
return(data)
}
more("sherlock")
more("2012")
document()
check()
library(imdbr)
get_id("2012")
overview("2012")
top_crew("2012")
top_crew("sherlock")
top_crew("sherlock")
characters("2012")
library(stringr)
top_crew("2012")
more("2012")
top_crew(name="2012")
library(imdbr)
top_crew("2012")
get_id("2012")
get_id(name = "2012")
library(imdbr)
get_id("2012")
more("2012")
document()
library(devtools)
library(roxygen2)
library(testthat)
document()
library(imdbr)
characters("2012")
more("2012")
check()
document()
check()
more("sherlock")
document()
check()
library(imdbr)
more("sherlock")
library(devtools)
library(roxygen2)
library(testthat)
devtools::use_vignette("testR-tutorial")
use_vignette()
use_vignette("imdbr")
library(imdbr)
use_vignette("imdbr_tutorial")
install.packages("pkgdown")
pkgdown::build_site()
library(imdbr)
get_id(name = "sherlock")
overview("game of thrones")
library(imdbr)
library(imdbr)
overview("game of thrones")
top_crew(name = "inception")
characters(name = "interstellar")
